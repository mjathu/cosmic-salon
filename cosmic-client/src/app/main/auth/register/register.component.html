<div class="page-layout blank p-24" fusePerfectScrollbar>

    <div id="register-container" class="p-24" fxFill fxLayout="row" fxLayoutAlign="center center">

        <mat-card class="p-36" [@animate]="{ value:'*', params:{ delay: '200ms', y:'-35px' } }" *ngIf="!submitSuccess">
    
            <form [formGroup]="registerForm" fxLayout="column">
    
                <div class="logo text-center">
                    <img src="assets/images/logos/logo.jpg" alt="logo">
                </div>
    
                <h2 class="text-center h2">Welcome to Cosmic Salon</h2>
                <h3 class="text-center h3">Please sign up for free to use our services</h3>
    
                <mat-form-field appearance="outline">

                    <mat-label>First Name</mat-label>

                    <input type="text" formControlName="first_name" matInput>

                    <mat-error *ngIf="registerForm.get('first_name').hasError('required')">
                        First Name is required
                    </mat-error>

                </mat-form-field>
    
                <mat-form-field appearance="outline">

                    <mat-label>Last Name</mat-label>

                    <input type="text" formControlName="last_name" matInput>

                    <mat-error *ngIf="registerForm.get('last_name').hasError('required')">
                        Last Name is required
                    </mat-error>

                </mat-form-field>

                <mat-form-field appearance="outline">

                    <mat-label>Email</mat-label>

                    <input type="email" formControlName="email" matInput>

                    <mat-error 
                        *ngIf="
                            registerForm.get('email').hasError('exists') && 
                            !registerForm.get('email').hasError('email') && 
                            !registerForm.get('email').hasError('required')">
                        Email already exists
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('email').hasError('email') && !registerForm.get('email').hasError('required')">
                        Please enter a valid email address
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('email').hasError('required')">
                        Email is required
                    </mat-error>

                </mat-form-field>

                <mat-form-field appearance="outline">

                    <mat-label>Password</mat-label>

                    <input type="password" formControlName="password" matInput>

                    <mat-error *ngIf="registerForm.get('password').hasError('min') && !registerForm.get('password').hasError('required')">
                        Minimum 6 characters required
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('password').hasError('required')">
                        Password is required
                    </mat-error>

                </mat-form-field>

                <mat-form-field appearance="outline">

                    <mat-label>Confirm Password</mat-label>

                    <input type="password" formControlName="confirm_password" matInput>

                    <mat-error *ngIf="registerForm.get('confirm_password').hasError('matchError') && !registerForm.get('confirm_password').hasError('required')">
                        Password does not match
                    </mat-error>

                    <mat-error *ngIf="registerForm.get('confirm_password').hasError('required')">
                        Confirm Password is required
                    </mat-error>

                </mat-form-field>

                <p class="text-center pb-20">Already have an account? <a href="#" routerLink="/login">Login</a></p>
    
                <button 
                    mat-raised-button 
                    color="primary"
                    [loading]="loading"
                    [disabled]="registerForm.invalid"
                    (click)="submit($event)">
                    Sign Up
                </button>
    
            </form>

            <div class="post-register">

            </div>
    
        </mat-card>
    
        <mat-card class="p-36" [@animate]="{ value:'*', params:{ delay: '200ms', y:'-35px' } }" *ngIf="submitSuccess">

            <div fxLayout="column">

                <div class="logo text-center">
                    <img src="assets/images/logos/logo.jpg" alt="logo">
                </div>
    
                <h2 class="text-center h2">Success!</h2>
                
                <div class="text-center">
                    <mat-icon class="s-120 green-fg">check_circle_outline</mat-icon>
                </div>

                <h3 class="text-center h3">Please check your email <b>{{ fc.email.value }}</b> and click on the sent link to verify your email</h3>

            </div>

        </mat-card>
    </div>

</div>