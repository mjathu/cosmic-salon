<div class="page-layout blank p-24" fusePerfectScrollbar>

    <div id="forgot-password-container" class="p-24" fxFill fxLayout="row" fxLayoutAlign="center center">

        <mat-card class="p-36" [@animate]="{ value:'*', params:{ delay: '200ms', y:'-35px' } }" *ngIf="!submitSuccess">

            <form [formGroup]="forgotPasswordForm" fxLayout="column">

                <div class="logo text-center">
                    <img src="assets/images/logos/logo.jpg" alt="logo">
                </div>

                <h3 class="text-center h3">Enter your email to reset your password</h3>

                <mat-form-field appearance="outline">

                    <mat-label>Email</mat-label>

                    <input type="email" formControlName="email" matInput>

                    <mat-error *ngIf="forgotPasswordForm.get('email').hasError('email') && !forgotPasswordForm.get('email').hasError('required')">
                        Please enter a valid email address
                    </mat-error>

                    <mat-error *ngIf="forgotPasswordForm.get('email').hasError('required')">
                        Email is required
                    </mat-error>

                </mat-form-field>

                <button 
                    mat-raised-button 
                    color="primary" 
                    [disabled]="forgotPasswordForm.invalid" 
                    type="button"
                    [loading]="loading"
                    (click)="submit($event)">
                    Submit
                </button>

            </form>

        </mat-card>

        <mat-card class="p-36" [@animate]="{ value:'*', params:{ delay: '200ms', y:'-35px' } }" *ngIf="submitSuccess">

            <div fxLayout="column">

                <div class="logo text-center">
                    <img src="assets/images/logos/logo.jpg" alt="logo">
                </div>
    
                <h2 class="text-center h2">Success!</h2>
                
                <div class="text-center">
                    <mat-icon class="s-120 green-fg">check_circle_outline</mat-icon>
                </div>

                <h3 class="text-center h3">Please check your email <b>{{ fc.email.value }}</b> and click on the sent link to reset your password</h3>

            </div>

        </mat-card>

    </div>

</div>